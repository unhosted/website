<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>A minimal remoteStorage demo</title>
    <script src="../../remoteStorage-staging.js">{
          dataScope: 'documents',
          type: 'private',
          onChange: function(key, oldValue, newValue) {
            if(key=='text') {
              displayText();
            }
          },
          preferBrowserSessionIfNative: false,
          preferBrowserIdIfNative: false,
          preferBrowserIdAlways: false}</script>
    <script>
      function displayText() {
        if(remoteStorage.getItem('text') != null) {
          document.getElementById('text').value=remoteStorage.getItem('text');
        }
      }
    </script>
    <style>* { padding:0; margin:0; border:0; outline:0; } html { overflow-x:hidden; overflow-y:hidden; }
    textarea { position:absolute; padding:10% 20%; font:2em FreeSans,Helvetica,sans-serif; color:#333; background:#eee; text-shadow:0 0 1px #666677; width:60%; height:80%; overflow-x:hidden; overflow-y:auto; resize:none; }</style>
  </head>
  <body onload="displayText();">
    <textarea id="text" onkeyup="remoteStorage.setItem('text', this.value);" autofocus>
      This is a remoteStorage demo.

      Try to log in on the top right with your remote storage user address.
      Or just use test@yourremotestorage.com (user: test, password: unhosted)
      to try it out.
      You will be redirected to the remote storage where you have to authorize this
      app to store data on your remote storage.

      Happy writing!
    </textarea>
  </body>
</html>
